package Tests;

import Pages.RegisterPage;
import Pages.TransferPage;
import org.junit.jupiter.api.AfterAll;
import org.junit.jupiter.api.BeforeAll;
import org.junit.jupiter.api.Tag;
import org.junit.jupiter.api.Test;

import static org.junit.jupiter.api.Assertions.assertTrue;

public class TestTransfer {

    private static TransferPage page;

    @BeforeAll
    static void setUp() {
        page = new TransferPage();
        page.openApp();
    }

    @Test
    @Tag("Smoke")
    public void testTransfer() throws InterruptedException {
        page.loginUser();
        page.clickTranferFunds();
        String msg = page.verifyMsg();
        assertTrue(msg.contains("Transfer Funds"));
        page.fillAmount();
        page.selectAccount();
        page.selectAnotherAccount();
        page.clickTransfer();
        String message = page.verifyMsgComplete();
        assertTrue(message.contains("Transfer Complete!"));
    }


    @AfterAll
    static void tearDown() {
        page.quitDriver();
    }
}
